var G=Object.defineProperty,L=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var F=(e,t,i)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,R=(e,t)=>{for(var i in t||(t={}))O.call(t,i)&&F(e,i,t[i]);if(V)for(var i of V(t))T.call(t,i)&&F(e,i,t[i]);return e},E=(e,t)=>L(e,M(t));import{a as w}from"./axios.ab416000.js";import{al as A,u as H,a as I,r as J,o as K,t as Q,ad as U,c as _,d as l,ae as f,f as s,w as n,af as y,ag as b,e as p,g as k,h as u,ah as h,i as x}from"./vendor.d1c66501.js";import{_ as W,l as S}from"./index.a55851bf.js";const X={name:"ldtd",setup(){const e=A();H();const{id:t,column_name:i,column_id:o,column_type:B}=e.query,r=I({office_info:"",res_data:J(""),column_list:[],is_login:0,is_self:0,total:0,currentPage:1,pageSize:10});K(()=>{g(),C(),j(),v(),m()});const m=()=>{w.get("/api/head/offices/info",{params:{id:t}}).then(a=>{r.office_info=a.data})},g=()=>{w.get("/api/head/offices/column",{params:{office_id:t,column_id:o,page:r.currentPage,page_size:r.pageSize}}).then(a=>{r.res_data=a.data,r.pageSize=a.pagination.perPage,r.total=a.pagination.total,r.currentPage=a.pagination.currentPage})},C=()=>{w.get("/api/head/technicalOfficeColumnSets/list",{params:{office_id:t}}).then(a=>{r.column_list=a.data})},j=()=>{S("token")&&(r.is_login=1)},v=()=>{S("userinfo")&&S("userinfo").office.office_id==t&&(r.is_self=1)},P=a=>{r.currentPage=a,g()},z=a=>{window.open(a,"_blank")};return E(R({},Q(r)),{go_detail:z,changePage:P,Plus:U,id:t,column_name:i,column_type:B})}},Y={style:{float:"right",height:"150px","align-items":"center",display:"flex","font-size":"36px","letter-spacing":"0.2em",color:"#fff"}},Z={key:0},$=x("\u5B9C\u5BBE\u5E02\u7B2C\u4E09\u4EBA\u6C11\u533B\u9662"),ee=x("\u79D1\u5BA4\u8BBE\u7F6E"),te={style:{color:"#409EFF","line-height":"38px"}},ne={style:{display:"flex","justify-content":"space-between"}},oe={style:{color:"#999"}},ae=["src","onClick"],le={style:{padding:"14px","line-height":"36px","font-size":"14px",cursor:"pointer"}},ie={style:{display:"flex","justify-content":"space-around"}},re={style:{"list-style":"none"}};function se(e,t,i,o,B,r){const m=_("el-col"),g=_("el-row"),C=_("el-breadcrumb-item"),j=_("el-breadcrumb"),v=_("el-button"),P=_("el-link"),z=_("el-pagination"),a=_("el-card");return l(),f(y,null,[s(g,{justify:"center",align:"middle",style:{background:"linear-gradient(135deg, rgb(36 205 103 / 95%) 0%, rgb(56 150 226 / 95%) 100% )","margin-bottom":"20px","margin-top":"-10px"}},{default:n(()=>[s(m,{span:24},{default:n(()=>[u("div",Y,[e.office_info?(l(),f("strong",Z,h(e.office_info.name),1)):k("",!0)])]),_:1})]),_:1}),s(j,{separator:"/",style:{"margin-bottom":"20px"}},{default:n(()=>[s(C,{to:{path:"/"}},{default:n(()=>[$]),_:1}),s(C,null,{default:n(()=>[x(h(o.column_name),1)]),_:1})]),_:1}),(l(!0),f(y,null,b(e.column_list,(c,N)=>(l(),p(g,{gutter:24,justify:"space-between",align:"middle",style:{"line-height":"36px","margin-bottom":"20px"}},{default:n(()=>[(l(!0),f(y,null,b(c,(d,q)=>(l(),p(m,{md:3},{default:n(()=>[s(v,{type:"primary",onClick:D=>o.go_detail(d.url+"?id="+o.id+"&column_id="+d.id)},{default:n(()=>[x(h(d.name),1)]),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:2},1024))),256)),e.is_login&&e.is_self?(l(),p(g,{key:0,gutter:24,justify:"space-between",align:"middle",style:{"line-height":"36px","margin-bottom":"20px"}},{default:n(()=>[s(m,{md:3},{default:n(()=>[s(v,{type:"primary",onClick:t[0]||(t[0]=c=>o.go_detail("/kssz?id="+o.id))},{default:n(()=>[ee]),_:1})]),_:1})]),_:1})):k("",!0),o.column_type==0?(l(),p(a,{key:1},{default:n(()=>[u("ul",te,[(l(!0),f(y,null,b(e.res_data,(c,N)=>(l(),f("li",null,[u("div",ne,[s(P,{style:{"font-size":"16px"},href:"/ksjs-column-detail?id="+c.id+"&office_id="+c.office_id+"&column_name="+c.column_name+"&column_type="+o.column_type,target:"_blank",type:"primary",underline:!1},{default:n(()=>[x(h(c.title)+"\u200B",1)]),_:2},1032,["href"]),u("span",oe,h(c.release_time),1)])]))),256))]),s(z,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:o.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})):k("",!0),o.column_type==1?(l(!0),f(y,{key:2},b(e.res_data,(c,N)=>(l(),p(g,{gutter:20,justify:"space-around",style:{"margin-bottom":"20px"}},{default:n(()=>[(l(!0),f(y,null,b(c,(d,q)=>(l(),p(m,{md:6},{default:n(()=>[s(a,{"body-style":{padding:"0px"}},{default:n(()=>[u("img",{src:d.url,style:{width:"100%",cursor:"pointer"},onClick:D=>o.go_detail("/ksjs-column-detail?id="+d.id+"&office_id="+d.office_id+"&column_name="+d.column_name+"&column_type="+o.column_type)},null,8,ae),u("div",le,[u("div",ie,[u("div",re,[u("li",null,h(d.title),1)])])])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024))),256)):k("",!0),o.column_type==1?(l(),p(z,{key:3,background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:o.changePage},null,8,["total","page-size","current-page","onCurrentChange"])):k("",!0)],64)}var fe=W(X,[["render",se]]);export{fe as default};
