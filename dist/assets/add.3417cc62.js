var N=Object.defineProperty,O=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var F=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V=(e,t)=>{for(var n in t||(t={}))U.call(t,n)&&F(e,n,t[n]);if(k)for(var n of k(t))A.call(t,n)&&F(e,n,t[n]);return e},v=(e,t)=>O(e,z(t));import{a as f}from"./axios.19e71858.js";import{r as x,al as E,u as M,a as D,o as G,ap as T,t as H,c as l,d as C,ae as S,f as o,w as a,af as I,ak as q,h as J,ah as w,g as K,i as m}from"./vendor.d1c66501.js";import{_ as L,l as b}from"./index.bb549908.js";const P={name:"menu_add",setup(){const e=x(null);x(null);const t=E(),n=M(),{id:r,office_id:p}=t.query,d=D({res_data:"",token:"Bearer "+b("token")||"",id:r,Form:{name:"",type:"0"},rules:{name:[{required:!0,message:"\u680F\u76EE\u5FC5\u987B",trigger:["change"]}],type:[{required:!0,message:"\u7C7B\u578B\u5FC5\u987B",trigger:["change"]}]}});G(()=>{r&&f.get(`/api/head/technicalOfficeColumnSets/${r}`).then(s=>{d.Form={name:s.data.name,type:String(s.data.type)}}),b("userinfo")?d.res_data=b("userinfo"):_()}),T(()=>{});const _=()=>{f.get("/api/head/staffs/info").then(s=>{d.res_data=s.data,localSet("userinfo",s.data)})},g=()=>{e.value.validate(s=>{if(s){let u=f.post,h={id:r,name:d.Form.name,type:d.Form.type},i="/api/head/technicalOfficeColumnSets";r&&(u=f.put,i=`/api/head/technicalOfficeColumnSets/${r}`),u(i,h).then(()=>{r?q.success("\u4FEE\u6539\u6210\u529F"):q.success("\u6DFB\u52A0\u6210\u529F"),n.push({path:"/kssz-columnset-index",query:{id:p}})})}})};return v(V({},H(d)),{Ref:e,submitAdd:g,office_id:p})}},Q={style:{float:"right",height:"150px","align-items":"center",display:"flex","font-size":"36px","letter-spacing":"0.2em",color:"#fff"}},W={key:0},X=m("\u5B9C\u5BBE\u5E02\u7B2C\u4E09\u4EBA\u6C11\u533B\u9662"),Y=m("\u79D1\u5BA4\u8BBE\u7F6E"),Z=m("\u79D1\u5BA4\u52A8\u6001"),ee=m("\u4EC5\u56FE"),te=m("\u56FE\u6587\u6216\u89C6\u9891");function oe(e,t,n,r,p,d){const _=l("el-col"),g=l("el-row"),s=l("el-breadcrumb-item"),u=l("el-breadcrumb"),h=l("el-input"),i=l("el-form-item"),y=l("el-radio"),B=l("el-radio-group"),R=l("el-button"),$=l("el-form"),j=l("el-card");return C(),S(I,null,[o(g,{justify:"center",align:"middle",style:{background:"linear-gradient(135deg, rgb(36 205 103 / 95%) 0%, rgb(56 150 226 / 95%) 100% )","margin-bottom":"20px","margin-top":"-10px"}},{default:a(()=>[o(_,{span:24},{default:a(()=>[J("div",Q,[e.res_data.office?(C(),S("strong",W,w(e.res_data.office.office_name),1)):K("",!0)])]),_:1})]),_:1}),o(u,{separator:"/",style:{"margin-bottom":"20px"}},{default:a(()=>[o(s,{to:{path:"/"}},{default:a(()=>[X]),_:1}),o(s,{to:{path:"/kssz",query:{id:r.office_id}}},{default:a(()=>[Y]),_:1},8,["to"]),o(s,null,{default:a(()=>[Z]),_:1})]),_:1}),o(j,{style:{"min-height":"100%"}},{default:a(()=>[o($,{model:e.Form,rules:e.rules,ref:"Ref","label-width":"100px"},{default:a(()=>[o(i,{label:"\u680F\u76EE\u540D\u5B57",prop:"name"},{default:a(()=>[o(h,{modelValue:e.Form.name,"onUpdate:modelValue":t[0]||(t[0]=c=>e.Form.name=c),placeholder:"\u8BF7\u8F93\u5165\u680F\u76EE\u540D\u5B57",type:"text"},null,8,["modelValue"])]),_:1}),o(i,{label:"\u7C7B\u578B",prop:"type"},{default:a(()=>[o(B,{modelValue:e.Form.type,"onUpdate:modelValue":t[1]||(t[1]=c=>e.Form.type=c)},{default:a(()=>[o(y,{label:"1"},{default:a(()=>[ee]),_:1}),o(y,{label:"0"},{default:a(()=>[te]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(i,null,{default:a(()=>[o(R,{type:"primary",onClick:t[2]||(t[2]=c=>r.submitAdd())},{default:a(()=>[m(w(e.id?"\u7ACB\u5373\u4FEE\u6539":"\u7ACB\u5373\u521B\u5EFA"),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})],64)}var re=L(P,[["render",oe]]);export{re as default};
