var N=Object.defineProperty,O=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var x=(a,o,s)=>o in a?N(a,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[o]=s,P=(a,o)=>{for(var s in o||(o={}))F.call(o,s)&&x(a,s,o[s]);if(C)for(var s of C(o))M.call(o,s)&&x(a,s,o[s]);return a},z=(a,o)=>O(a,R(o));import{al as G,u as L,a as T,o as U,t as H,ad as I,c as r,am as J,d,ae as _,f as n,w as l,af as K,ak as Q,h as f,ah as W,g as S,an as X,e as D,i as g}from"./vendor.a93cca51.js";import{a as w}from"./axios.64f7e1f7.js";import{_ as Y,l as V,b as Z}from"./index.e972642b.js";const $={name:"dynamin_index",setup(){const a=G(),o=L(),{id:s}=a.query,t=T({res_data:"",title:"",loading:!1,tableData:[],total:0,currentPage:1,pageSize:10});U(()=>{p(),V("userinfo")?t.res_data=V("userinfo"):v()});const v=()=>{w.get("/api/head/staffs/info").then(e=>{t.res_data=e.data,Z("userinfo",e.data)})},p=()=>{t.loading=!0,w.get("/api/head/technicalOfficeDynamics",{params:{page:t.currentPage,page_size:t.pageSize,title:t.title}}).then(e=>{t.tableData=e.data,t.pageSize=e.pagination.perPage,t.total=e.pagination.total,t.currentPage=e.pagination.currentPage,t.loading=!1})},h=()=>{t.currentPage=1,p()},y=e=>{t.currentPage=e,p()},u=e=>{o.push({path:"/kssz-ksdt-add",query:{office_id:e}})},b=(e,c)=>{o.push({path:"/kssz-ksdt-add",query:{id:e,office_id:c}})},m=(e,c)=>{o.push({path:"/kssz-ksdt-preview",query:{id:e,office_id:c}})},k=(e,c)=>{w.put("/api/back/technicalOfficeDynamics/status",{id:e,status:c}).then(()=>{Q.success("\u4FEE\u6539\u6210\u529F"),p()})};return z(P({},H(t)),{handleOption:h,changePage:y,handleAdd:u,handleEdit:b,handleStatus:k,handlePreview:m,Plus:I,id:s})}},ee={style:{float:"right",height:"150px","align-items":"center",display:"flex","font-size":"36px","letter-spacing":"0.2em",color:"#fff"}},te={key:0},ae=g("\u5B9C\u5BBE\u5E02\u7B2C\u4E09\u4EBA\u6C11\u533B\u9662"),oe=g("\u79D1\u5BA4\u8BBE\u7F6E"),ne=g("\u79D1\u5BA4\u52A8\u6001"),le=g("\u65B0\u589E"),se=g("\u641C\u7D22"),ie={key:0,style:{color:"#67C23A"}},re={key:1,style:{color:"#E6A23C"}},ce={key:2,style:{color:"#F56C6C"}},de=["onClick"],pe=["onClick"];function ue(a,o,s,t,v,p){const h=r("el-col"),y=r("el-row"),u=r("el-breadcrumb-item"),b=r("el-breadcrumb"),m=r("el-button"),k=r("el-input"),e=r("el-table-column"),c=r("el-image"),q=r("el-table"),E=r("el-pagination"),j=r("el-card"),A=J("loading");return d(),_(K,null,[n(y,{justify:"center",align:"middle",style:{background:"linear-gradient(135deg, rgb(36 205 103 / 95%) 0%, rgb(56 150 226 / 95%) 100% )","margin-bottom":"20px","margin-top":"-10px"}},{default:l(()=>[n(h,{span:24},{default:l(()=>[f("div",ee,[a.res_data.office?(d(),_("strong",te,W(a.res_data.office.office_name),1)):S("v-if",!0)])]),_:1})]),_:1}),n(b,{separator:"/",style:{"margin-bottom":"20px"}},{default:l(()=>[n(u,{to:{path:"/"}},{default:l(()=>[ae]),_:1}),n(u,{to:{path:"/kssz",query:{id:t.id}}},{default:l(()=>[oe]),_:1},8,["to"]),n(u,null,{default:l(()=>[ne]),_:1})]),_:1}),n(j,{style:{"min-height":"100%"}},{header:l(()=>[n(m,{type:"primary",icon:t.Plus,onClick:o[0]||(o[0]=i=>t.handleAdd(t.id))},{default:l(()=>[le]),_:1},8,["icon"]),f("div",null,[n(k,{style:{width:"200px","margin-top":"20px","margin-right":"10px"},placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",modelValue:a.title,"onUpdate:modelValue":o[1]||(o[1]=i=>a.title=i),clearable:""},null,8,["modelValue"]),n(m,{type:"primary",onClick:t.handleOption},{default:l(()=>[se]),_:1},8,["onClick"])])]),default:l(()=>[X((d(),D(q,{data:a.tableData,stripe:"",style:{width:"100%"}},{default:l(()=>[n(e,{prop:"id",label:"id"}),n(e,{prop:"office_name",label:"\u79D1\u5BA4\u540D\u79F0"}),n(e,{prop:"title",label:"\u6807\u9898"}),n(e,{label:"\u56FE\u7247"},{default:l(i=>[(d(),D(c,{key:i.row.id,src:i.row.url,lazy:!0,"initial-index":1},null,8,["src"]))]),_:1}),n(e,{prop:"release_time",label:"\u53D1\u5E03\u65F6\u95F4"}),n(e,{prop:"num",label:"\u6D4F\u89C8\u6B21\u6570"}),n(e,{prop:"status",label:"\u72B6\u6001"},{default:l(i=>[i.row.status==1?(d(),_("span",ie,"\u5DF2\u5BA1\u6838")):i.row.status==0?(d(),_("span",re,"\u5F85\u5BA1\u6838")):(d(),_("span",ce,"\u5BA1\u6838\u4E0D\u8FC7"))]),_:1}),n(e,{prop:"created_at",label:"\u521B\u5EFA\u65F6\u95F4"}),n(e,{label:"\u64CD\u4F5C",width:"200"},{default:l(i=>[f("a",{style:{cursor:"pointer","margin-right":"10px",color:"#409eff"},onClick:B=>t.handlePreview(i.row.id,t.id)},"\u9884\u89C8",8,de),f("a",{style:{cursor:"pointer","margin-right":"10px",color:"#409eff"},onClick:B=>t.handleEdit(i.row.id,t.id)},"\u4FEE\u6539",8,pe),S(` <a style="cursor: pointer; margin-right: 10px" v-if="scope.row.status != 2" @click="handleStatus(scope.row.id, 2)">\u5220\u9664</a>\r
					<a style="cursor: pointer; margin-right: 10px" v-if="scope.row.status == 1"\r
						@click="handleStatus(scope.row.id, 0)">\u64A4\u9500\u5BA1\u6838</a>\r
					<a style="cursor: pointer; margin-right: 10px" v-else-if="scope.row.status == 0" @click="handleStatus(scope.row.id, 1)">\u5BA1\u6838</a> `)]),_:1})]),_:1},8,["data"])),[[A,a.loading]]),n(E,{background:"",layout:"prev, pager, next",total:a.total,"page-size":a.pageSize,"current-page":a.currentPage,onCurrentChange:t.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})],64)}var he=Y($,[["render",ue]]);export{he as default};
